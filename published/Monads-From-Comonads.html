<!DOCTYPE html>
<html lang="en">
  <head>
        <title>From monads to comonads and back</title>
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1">        
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="/includes/css/proofs.css" />
    <link rel="stylesheet" href="/includes/css/tables.css" />
      <script
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
      type="text/javascript"></script>
  </head>
  <body>

    <!-- Wrap all page content here -->
    <div id="wrap" ng-app="HomePageApp">

      <!-- Fixed navbar -->
      <div class="navbar navbar-inverse" role="navigation">
        <div class="container-fluid" id="navfluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigationbar">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">hde.design</a>
          </div>
	  <div>
            <div class="collapse navbar-collapse" id="navigationbar">
              <ul class="nav navbar-nav">
                <li><a href="https://heades.github.io">Author</a></li>
                <li><a href="/">Posts</a></li>                
            </ul>
            </div>
          </div><!--/.nav-collapse -->
        </div>
      </div>

      <!-- Begin page content -->
      <div class="container">
        <div class="well">
          <h2>From monads to comonads and back</h2>
              Updated: 2021-01-29
        </div>
	<div class="row">
	  <div class="col-md-2">
	  </div>
	  <div class="col-md-10" style="font-size:20px;">
<div id="divCheckbox" style="display: none;">
  <span class="math display">
    \[    
    \newcommand{\ottnt}[1]{#1}
    \newcommand{\ottsym}[1]{#1}
    \newcommand{\ottmv}[1]{\mathit{#1}}

    \newcommand{\func}[1]{\mathsf{#1}}
    \newcommand{\Lin}[0]{\func{Lin}}
    \newcommand{\Mny}[0]{\func{Mny}}
    \newcommand{\Forget}[0]{\func{Forget}}
    \newcommand{\Free}[0]{\func{Free}}
    \newcommand{\Endo}[0]{\func{Endo}}
    \newcommand{\mto}[1]{\xrightarrow{#1}}
    \newcommand{\interp}[1]{[\negthinspace[#1]\negthinspace]}

    \newcommand{\cat}[1]{\mathcal{#1}}
    \newcommand{\catobj}[1]{\mathsf{Obj}(\cat{#1})}
    \newcommand{\Obj}[1]{\catobj{#1}}
    \newcommand{\catop}[1]{\cat{#1}^{\mathsf{op}}}
    \newcommand{\sets}[0]{\mathsf{Set}}
    \newcommand{\Set}[0]{\sets}
    \newcommand{\mor}[1]{\mathsf{Mor}(\cat{#1})}
    \newcommand{\Hom}[3]{\mathsf{Hom}_{#1}(#2,#3)}
    \newcommand{\cur}[0]{\mathsf{cur}}
    \newcommand{\curi}[0]{\mathsf{cur}^{-1}}
    \newcommand{\app}[0]{\mathsf{app}}
    \newcommand{\id}[0]{\mathsf{id}}
    \newcommand{\injl}[0]{\mathsf{inj_l}}
    \newcommand{\injr}[0]{\mathsf{inj_r}}
    \newcommand{\pow}[1]{\mathcal{P}(#1)}

    \newcommand{\oast}{&circledast;}
    \]
  </span>
</div>

<main>
  <p>I was recently recommended the paper <a
  href="http://www.cs.ox.ac.uk/ralf.hinze/WG2.8/28/slides/Comonad.pdf">Monads
  from Comonads, Comonads from Monads: An exercise in program
  transformation</a> by Ralf Hinze. It’s a nice read, and I love the
  results.</p>
  <p>I was taken aback by the title, because I thought that this
  couldn’t be true in general. I mean, due to the duality between monads
  and comonads for every monad there is a comonad and vice versa, but
  they will not be equivalent necessarily.</p>
  <p>One example where a monad and a comonad differ can be found in
  linear logic. Take the of-course modality <span
  class="math inline">\(!A\)</span> which is a comonad <span
  class="math inline">\(! :
  \cat{M} \mto{} \cat{M}\)</span> on a symmetric monoidal category which
  adds the structural rules to linear logic. Take it’s dual and we
  arrive at the why-not modality <span class="math inline">\(? : \cat{M}
  \mto{} \cat{M}\)</span>. These two are not equivalent. I don’t know of
  any monad that is equivalent to <span class="math inline">\(!\)</span>
  nor a comonad that is equivalent to <span
  class="math inline">\(?\)</span>; and I suspect there aren’t any. So
  in order for the results of this paper to work, there must be an
  additional assumption on the monad/comonad.</p>
  <p>It turns out that there is an additional assumption. Hinze shows
  that given an adjunction <span class="math inline">\(\cat{A} :
  \func{F} \dashv \func{G} : \cat{A}\)</span> where <span
  class="math inline">\(\func{G} : \cat{A} \mto{} \cat{A}\)</span> is
  also a monad, then <span class="math inline">\(\func{F} : \cat{A}
  \mto{} \cat{A}\)</span> is also a comonad. The first thing to notice
  is that this is not a general adjunction, because the functors must be
  endo-functors in order for the adjuncts to be a monad and a comonad
  respectively. So this is not true for every monad and comonad, but
  only those of which have left and right adjoints respectively. This
  means that for the of-course comonad there is no equivalent monad,
  because it does not have a right adjoint. The case is similar for the
  why-not monad.</p>
  <p>But, if your monad or comonad can be shown to have left and right
  adjoints, then those adjoints are an equivalent–in terms of
  expressivity–comonad or monad respectively. This is a nice result. In
  addition, Hinze shows that the adjunction induces program
  transformations that translate the monad to its equivalent comonad and
  vice versa. Thus allowing one to program using which ever structure is
  easiest, and then obtaining the other through a transformation that
  could be automated.</p>
  <p>I recommend reading the paper for the details.</p>
</main>
            <hr>
            <p>
                        <em>Leave a comment on <a href=https://twitter.com/heades/status/1355212471917826048?s=20>Twitter</a> or send me an <a href="mailto:harley.eades@gmail.com">Email</a></em>
                        </p>
	  <div class="col-md-1">
	  </div>
	</div>
      </div>
    </div>

    <div id="footer">
      <div class="container">
	<p class="text-right" class="text-muted credit">	
	</p>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
     <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-71081670-1', 'auto');
       ga('send', 'pageview');
     </script>
  </body>
</html>
