<!DOCTYPE html>
<html lang="en">
  <head>
        <title>Linear Categories: A Folklore Simplification</title>
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
              <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
      </head>
  <body>

    <!-- Wrap all page content here -->
    <div id="wrap" ng-app="HomePageApp">

      <!-- Fixed navbar -->
      <div class="navbar navbar-inverse" role="navigation">
        <div class="container-fluid" id="navfluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigationbar">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Metatheorem</a>
          </div>
	  <div>
            <div class="collapse navbar-collapse" id="navigationbar">
            <ul class="nav navbar-nav">
              <li><a href="https://heades.github.io">Author</a></li>
            </ul>
            </div>
          </div><!--/.nav-collapse -->
        </div>
      </div>

      <!-- Begin page content -->
      <div class="container">
        <div class="well">
          <h1>Linear Categories: A Folklore Simplification</h1>
        </div>
	<div class="row">
	  <div class="col-md-2">
	  </div>
	  <div class="col-md-10">
	    <div id="divCheckbox" style="display: none;">
     <p><span class="math display">\[\newcommand{\cat}[1]{\mathcal{#1}}
     \newcommand{\func}[1]{\mathsf{#1}}
     \newcommand{\iso}[0]{\mathsf{iso}}
     \newcommand{\H}[0]{\func{H}}
     \newcommand{\J}[0]{\func{J}}
     \newcommand{\catop}[1]{\cat{#1}^{\mathsf{op}}}
     \newcommand{\Hom}[3]{\mathsf{Hom}_{\cat{#1}}(#2,#3)}
     \newcommand{\limp}[0]{\multimap}
     \newcommand{\colimp}[0]{\multimapdotinv}
     \newcommand{\dial}[1]{\mathsf{Dial_{#1}}(\mathsf{Sets^{op}})}
     \newcommand{\dialSets}[1]{\mathsf{Dial_{#1}}(\mathsf{Sets})}
     \newcommand{\dcSets}[1]{\mathsf{DC_{#1}}(\mathsf{Sets})}
     \newcommand{\sets}[0]{\mathsf{Sets}}
     \newcommand{\obj}[1]{\mathsf{Obj}(#1)}
     \newcommand{\mor}[1]{\mathsf{Mor(#1)}}
     \newcommand{\id}[0]{\mathsf{id}}
     \newcommand{\lett}[0]{\mathsf{let}\,}
     \newcommand{\inn}[0]{\,\mathsf{in}\,}
     \newcommand{\cur}[1]{\mathsf{cur}(#1)}
     \newcommand{\curi}[1]{\mathsf{cur}^{-1}(#1)}
     \newcommand{\mto}[0]{\to}
     \newcommand{\m}[0]{\mathsf{m}}
     \newcommand{\w}[0]{\mathsf{w}}
     \newcommand{\c}[0]{\mathsf{c}}
     \]</span></p>
     </div>
     <p>Recently, I read <a href="https://lipn.fr/~mazza/papers/CoreQuantCoeff.pdf">this paper</a>. The authors use a simplified definition of a linear category, but without proof that their definition is really the same. So I emailed them about it, and started a nice conversion with <a href="http://www-lipn.univ-paris13.fr/~mazza/">Damiano Mazza</a>, <a href="http://www.acsu.buffalo.edu/~gaboardi/">Marco Gaboardi</a>, and <a href="http://www.lipn.univ-paris13.fr/~breuvart/">Flavien Breuvart</a>. Then at <a href="http://www.floc2018.org/">FLOC 2018</a> this year I got the opportunity to meet <a href="http://www-lipn.univ-paris13.fr/~mazza/">Damiano Mazza</a>, <a href="http://www.acsu.buffalo.edu/~gaboardi/">Marco Gaboardi</a>, and a few others for lunch. I learned from Damiano that that their simplification to the definition of linear categories is correct, but this simplification seems to be folklore. So in this post I am going to write out this simplification, and prove that it is equivalent to the original definition of a linear category.</p>
     <h2 id="linear-categories">Linear Categories</h2>
     <p>Linear categories are one of the first sound and complete categorical models of intuitionistic linear logic proposed in Gavin Bierman’s <a href="https://pdfs.semanticscholar.org/4abd/9b55397235e50c1ea9756626cd54e3ecb353.pdf">thesis</a>. He shows that the linear exponential, <span class="math display">\[!A\]</span>, can be modeled as a symmetric monoidal comonad. His original definition (<a href="https://pdfs.semanticscholar.org/4abd/9b55397235e50c1ea9756626cd54e3ecb353.pdf">Definition 35 on p. 140</a>) is as follows.</p>
     <p><span class="definition"> A <em>linear category</em>, <span class="math display">\[\cat{C}\]</span>, consists of the following structure:</span></p>
     <ol type="1">
     <li><p>A symmetric monoidal category, <span class="math display">\[\cat{C}\]</span>, with finite products and coproducts,</p></li>
     <li><p>A symmetric monoidal comonad <span class="math display">\[(!,\varepsilon, \delta, \m_{A,B}, \m_I)\]</span> such that</p>
     <ol type="a">
     <li><p>For every free <span class="math display">\[!\]</span>-coalgebra <span class="math display">\[(!A,\delta_A)\]</span> there are two distinguished monoidal natural transformations with components:</p>
     <ul>
     <li>(Weakening) <span class="math display">\[\w_A : !A \mto I\]</span></li>
     <li>(Contraction) <span class="math display">\[\c_A : !A \to !A \otimes !A\]</span></li>
     </ul>
     <p>which form a commutative comonad and are coalgebra morphisms.</p></li>
     <li><p>Whenever <span class="math display">\[f : (!A,\delta_A) \mto (!B,\delta_B)\]</span> is a coalgebra morphism between free coalgebras, then it is also a comonoid morphism.</p></li>
     </ol></li>
     </ol>
     <p>There is a lot packed into this definition, but we will expanded it in the next section.</p>
     <h2 id="linear-categories-simplified">Linear Categories Simplified</h2>
     <p>Essentially, the simplification amounts to realizing that part b can be proven from the previous parts of the definition of a linear category, but with an additional assumption that is simpler than part b. The expanded simplified definition is as follows.</p>
     <p><span class="definition"> A <em>linear category</em>, <span class="math display">\[\cat{A}\]</span>, consists of the following structure:</span></p>
     <ol type="1">
     <li><p>A is a symmetric monoidal category <span class="math display">\[(\mathcal{A},\otimes,I,\lambda,\rho,\alpha,\beta)\]</span>,</p></li>
     <li><p>A linear exponential comonad, <span class="math display">\[(!_{-},\delta,\varepsilon)\]</span>, which has the following structure:</p>
     <ul>
     <li><p>The endofunctor <span class="math display">\[! : \mathcal{A} \mto \mathcal{A}\]</span> forms comonad on <span class="math display">\[\cat{A}\]</span>. That is, there are two natural transformations <span class="math display">\[\delta : ! A \mto !! A\]</span> and <span class="math display">\[\varepsilon : !A \mto A\]</span> that make the following diagrams commute:</p>
     <center>
     <p><img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/comonad-diags.png" width="75%"></p>
     </center></li>
     <li><p>Four natural transformations:</p>
     <ul>
     <li><p>(Monoidal Map) <span class="math display">\[\m_{A,B} : ! A \otimes ! B \mto ! (A \otimes B)\]</span></p></li>
     <li><p>(Monoidal Unit Map) <span class="math display">\[\m_I : I \mto ! I\]</span></p></li>
     <li><p>(Contraction) <span class="math display">\[\c : !A \mto !A \otimes !A\]</span></p></li>
     <li><p>(Weakening) <span class="math display">\[\w : ! A \mto I\]</span></p></li>
     </ul></li>
     <li><p>The functor <span class="math display">\[! : \mathcal{A} \mto \mathcal{A}\]</span> is symmetric monoidal. That is, the following diagrams must commute:</p>
     <center>
     <p><img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/sym-monoidal-diags.png" width="100%"></p>
     </center></li>
     <li><p>The functor <span class="math display">\[! : \cat{A} \mto \cat{A}\]</span> is a symmetric monoidal comonad. That is, the following diagrams must commute:</p>
     <center>
     <p><img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/smc-comonad-diags.png" width="90%"></p>
     </center></li>
     <li><p>Weakening must satisfy the following diagrams:</p>
     <center>
     <p><img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/weakening-diags.png" width="90%"></p>
     </center></li>
     <li><p>Contraction must satisfy the following diagrams:</p>
     <center>
     <p><img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/contraction-diags.png" width="100%"></p>
     </center></li>
     <li><p>Weakening and contraction form a commutative comonoid. That is, the following diagrams commute:</p>
     <center>
     <p><img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/comm-comonoid-diags.png" width="100%"></p>
     </center></li>
     <li><p>Weakening and contraction are coalgebra morphisms. That is, the following diagrams must commute:</p>
     <center>
     <p><img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/coalgebra-morphisms.png" width="90%"></p>
     </center></li>
     <li><p><span class="math display">\[\delta_A : !A \mto !!A\]</span> is a comonoid morphism between the comonoids <span class="math display">\[(!A,\w,\c)\]</span> and <span class="math display">\[(!!A,\w,\c)\]</span>. That is, the following diagrams must commute:</p>
     <center>
     <p><img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/delta-comonoid-morphism-diags.png" width="90%"></p>
     </center></li>
     </ul></li>
     </ol>
     <p>All of the structure in the previous definition except for the last bullet corresponds to part 1 and part 2.a of the original definition of a linear category. The last bullet is a simplification of part 2.b. We now show that we can prove part 2.b from the assumptions in this simplified definition.</p>
     <p><span class="lemma"> Whenever <span class="math display">\[f : (!A,\delta_A) \mto (!B,\delta_B)\]</span> is a coalgebra morphism between free coalgebras, then it is also a comonoid morphism.</span></p>
     <p><span class="proof"></span> Suppose <span class="math display">\[f : (!A,\delta_A) \mto (!B,\delta_B)\]</span> is a coalgebra morphism between free coalgebras. This assumption amounts to assuming the following diagram commutes:</p>
     <center>
     <img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/f-coalgebra-morph-diag.png" width="20%">
     </center>
     <p>It suffices to show that <span class="math display">\[f : (!A,\delta_A) \mto (!B,\delta_B)\]</span> is also a comonoid morphism. Hence, we must show that the following diagrams commute:</p>
     <center>
     <img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/must-show-diags.png" width="50%">
     </center>
     <p>The left diagram commutes, because the following expanded one does:</p>
     <center>
     <img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/weakening-proof.png" width="50%">
     </center>
     <p>Diagrams <span class="math display">\[(1)\]</span> and <span class="math display">\[(4)\]</span> commute because <span class="math display">\[\delta\]</span> is a comonoid morphism, diagram <span class="math display">\[(2)\]</span> commutes because <span class="math display">\[f\]</span> is assumed to be a coalgebra morphism, and diagram <span class="math display">\[(3)\]</span> commutes by naturality of <span class="math display">\[\w\]</span>. Note that we have numbered the previous diagram in the order of the necessary replacements needed when doing the same proof equationally, and we do the same for the next diagram. This should make it easier to reconstruct the proof.</p>
     <p>The diagram for contraction commutes (the diagram on the right above), because the following expanded one does:</p>
     <center>
     <img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/contraction-proof.png" width="70%">
     </center>
     <p>Diagram <span class="math display">\[(3)\]</span> commutes because <span class="math display">\[f\]</span> is assumed to be a coalgebra morphism, diagram <span class="math display">\[(4)\]</span> commutes by naturality of <span class="math display">\[\c\]</span>, diagram <span class="math display">\[(5)\]</span> commutes by naturality of <span class="math display">\[\m\]</span>, and diagram <span class="math display">\[(6)\]</span> commutes by naturality of <span class="math display">\[\varepsilon\]</span>.</p>
     <p>Diagrams <span class="math display">\[(1)\]</span> and <span class="math display">\[(8)\]</span> commute, because the following one does:</p>
     <center>
     <img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/contaction-diag-one.png" width="50%">
     </center>
     <p>The left triangle commutes, because <span class="math display">\[! : \cat{A} \mto \cat{A}\]</span> is a comonad, and the bottom diagram commutes by naturality of <span class="math display">\[\varepsilon\]</span>.</p>
     <p>Finally, diagrams <span class="math display">\[(2)\]</span> and <span class="math display">\[(7)\]</span> do not actually commute, but are parallel morphisms whose cofork is <span class="math display">\[\delta\]</span>. That is, the following diagram commutes:</p>
     <center>
     <img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/contraction-diag-two.png" width="50%">
     </center>
     <p>The left diagram commutes because <span class="math display">\[\delta : !X \mto !!X\]</span> is a comonoid morphism, and the right diagram commutes because weakening and contraction are coalgebra morphisms.</p>
     <p>Therefore, the original diagram above corresponds to the following equational proof:</p>
     <center>
     <img src="/images/posts/2018-07-24-Linear-Categories-A-Folklore-Simplification/eq-reasoning.png" width="50%">
     </center>
     <p>▌</p>
     <h2 id="conclusion">Conclusion</h2>
     <p>This was a really fun proof, but not at all obvious. Folklore results hinder scientific progress, and hinder new comers from progressing in our field. We need to be writing down these types of results so others do not have to! This is the point of research after all.</p>
     <p>If anyone knows of a paper that writes this proof down, then I would like to know about it so I can cite it in future work. I will update this post with any citations I can find.</p>
     <p><strong>Updates:</strong> Jean-Simon Lemay has communicated to Damiano that this first appeared in a paper by Cocket, Seely, and Blute, but I have not had time to dig through their papers to get the precise citation yet.</p>
	  </div>
	  <div class="col-md-1">
	  </div>
	</div>
      </div>
    </div>

    <div id="footer">
      <div class="container">
	<p class="text-right" class="text-muted credit">
	<small>
	  All rights reserved: <a href="https://metatheorem.org/">Harley Eades III</a>. 
	</small>
	</p>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
     <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
     <script src="https://code.jquery.com/jquery.js"></script>
     <!-- Include all compiled plugins (below), or include individual files as needed -->
     <script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
     <script id="dsq-count-scr" src="//metatheorem.disqus.com/count.js" async></script>
     <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-71081670-1', 'auto');
       ga('send', 'pageview');
     </script>
  </body>
</html>
